--- a/Modules/posixmodule.c
+++ b/Modules/posixmodule.c
@@ -573,7 +573,7 @@
 ** environ directly, we must obtain it with _NSGetEnviron(). See also
 ** man environ(7).
 */
-#include <crt_externs.h>
+/* #include <crt_externs.h> */
 static char **environ;
 #elif !defined(_MSC_VER) && ( !defined(__WATCOMC__) || defined(__QNX__) )
 extern char **environ;
@@ -593,7 +593,7 @@
         return NULL;
 #if defined(WITH_NEXT_FRAMEWORK) || (defined(__APPLE__) && defined(Py_ENABLE_SHARED))
     if (environ == NULL)
-        environ = *_NSGetEnviron();
+        environ = NULL;
 #endif
     if (environ == NULL)
         return d;
